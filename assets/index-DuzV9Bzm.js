(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const d="https://luhgtujmxnmpkqgbhqdt.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx1aGd0dWpteG5tcGtxZ2JocWR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NTMwMzcsImV4cCI6MjA2NDUyOTAzN30.Z6hwAV47a0Lm0i8GVMs868SJ3o0wTUYGkHiIkc2PiD0",l=`${d}/rest/v1/article`;async function c(){const r=await(await fetch(`${l}?select=*`,{headers:{apikey:s,Authorization:`Bearer ${s}`}})).json(),o=document.getElementById("sort").value;let i=[...r];o==="created_at.desc"?i.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)):o==="created_at.asc"?i.sort((e,t)=>new Date(e.created_at)-new Date(t.created_at)):o==="title.asc"&&i.sort((e,t)=>e.title.localeCompare(t.title)),document.getElementById("articles").innerHTML=i.map(e=>{const t=new Date(e.created_at).toLocaleDateString("pl-PL");return`
      <div>
        <h3>${e.title}</h3>
        <h4>${e.subtitle}</h4>
        <p><b>${e.author}</b>, ${t}</p>
        <p>${e.content}</p>
      </div>
    `}).join("")}document.getElementById("articleForm").addEventListener("submit",async a=>{a.preventDefault();const r=a.target,o={title:r.title.value,subtitle:r.subtitle.value,author:r.author.value,content:r.content.value,created_at:r.created_at.value||new Date().toISOString()};await fetch(l,{method:"POST",headers:{apikey:s,Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(o)}),r.reset(),c()});document.getElementById("sort").addEventListener("change",()=>{c()});c();
